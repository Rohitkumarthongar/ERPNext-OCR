[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Invoice", 
  "modified": "2018-02-12 02:13:06.641850", 
  "name": "Sales Invoice-Client", 
  "script": "  frappe.ui.form.on(\"Sales Invoice\",\"onload\",function (frm) {\n      if (cur_frm.doc.ocr_receipt) {\n          frappe.call({\n              method: \"erpnext_ocr.erpnext_ocr.xml_reader.read\",\n              args: {\n                  \"ocr_receipt\": cur_frm.doc.ocr_receipt\n              },\n              callback: function (r, rt) {\n\n                  var tree = new TreeView(r.message, 'tree');\n\n                  tree.on('select', function (e) {\n                      console.log(e);\n                      console.log(JSON.stringify(e));\n                      // var copyTextarea = document.querySelector(e.target);\n                      // copyTextarea.select();\n\n                      var range = window.getSelection().getRangeAt(0);\n                      range.selectNode(e.target.srcElement);\n                      window.getSelection().addRange(range);\n                      document.execCommand(\"copy\")\n\n                  });\n\n\n              }\n\n          });\n      }\n  });\n\n\n   frappe.ui.form.on(\"Sales Invoice\",\"ocr_receipt\",function(frm){\n\n       if (cur_frm.doc.ocr_receipt) {\n\n           frappe.call({\n               method: \"erpnext_ocr.erpnext_ocr.xml_reader.read\",\n               args: {\n                   \"ocr_receipt\": cur_frm.doc.ocr_receipt\n               },\n               callback: function (r, rt) {\n\n                   var tree = new TreeView(r.message, 'tree');\n\n                   tree.on('select', function (e) {\n                       console.log(e);\n                       console.log(JSON.stringify(e));\n                       // var copyTextarea = document.querySelector(e.target);\n                       // copyTextarea.select();\n\n                       var range = window.getSelection().getRangeAt(0);\n                       range.selectNode(e.target.srcElement);\n                       window.getSelection().addRange(range);\n                       document.execCommand(\"copy\")\n\n                   });\n\n\n               }\n           });\n\n       }\n\n\n    });\n\n    frappe.ui.form.on('Sales Invoice', {\n        // validate:function (frm) {\n        //\n        // },\n\n        refresh: function (frm) {\n\n            if (cur_frm.doc.ocr_receipt) {\n                frappe.call({\n                    method: \"erpnext_ocr.erpnext_ocr.xml_reader.read\",\n                    args: {\n                        \"ocr_receipt\": cur_frm.doc.ocr_receipt\n                    },\n                    callback: function (r, rt) {\n\n                        var tree = new TreeView(r.message, 'tree');\n\n                        tree.on('select', function (e) {\n                            console.log(e);\n                            console.log(JSON.stringify(e));\n                            // var copyTextarea = document.querySelector(e.target);\n                            // copyTextarea.select();\n\n                            var range = window.getSelection().getRangeAt(0);\n                            range.selectNode(e.target.srcElement);\n                            window.getSelection().addRange(range);\n                            document.execCommand(\"copy\")\n\n                        });\n\n\n                    }\n                });\n\n\n            }\n        }\n\n    });\n\n\n\n", 
  "script_type": "Client"
 }
]