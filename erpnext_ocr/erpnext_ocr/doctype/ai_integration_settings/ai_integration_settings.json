{
 "actions": [],
 "allow_copy": 0,
 "allow_events_in_timeline": 0,
 "allow_guest_to_view": 0,
 "allow_import": 0,
 "allow_rename": 0,
 "autoname": "field:title",
 "beta": 0,
 "creation": "2025-08-31 10:30:00.000000",
 "custom": 0,
 "docstatus": 0,
 "doctype": "DocType",
 "document_type": "",
 "editable_grid": 1,
 "engine": "InnoDB",
 "fields": [
  {
   "fieldname": "title",
   "fieldtype": "Data",
   "label": "Title",
   "reqd": 1,
   "unique": 1
  },
  {
   "fieldname": "section_break_1",
   "fieldtype": "Section Break",
   "label": "AI Provider Settings"
  },
  {
   "fieldname": "ai_provider",
   "fieldtype": "Select",
   "label": "AI Provider",
   "options": "OpenAI\nGoogle Gemini\nAnthropic Claude\nPerplexity AI\nOpenRouter\nLocal Model",
   "reqd": 1
  },
  {
   "fieldname": "api_key",
   "fieldtype": "Password",
   "label": "API Key",
   "depends_on": "eval:doc.ai_provider != 'Local Model'"
  },
  {
   "fieldname": "model_name",
   "fieldtype": "Data",
   "label": "Model Name",
   "description": "e.g., gpt-4-vision-preview, gemini-pro-vision, claude-3-opus, sonar-pro (text-only), google/gemini-2.5-flash-image-preview:free"
  },
  {
   "fieldname": "base_url",
   "fieldtype": "Data",
   "label": "Base URL",
   "description": "Custom API endpoint (optional)"
  },
  {
   "fieldname": "column_break_1",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "max_tokens",
   "fieldtype": "Int",
   "label": "Max Tokens",
   "default": 4000
  },
  {
   "fieldname": "temperature",
   "fieldtype": "Float",
   "label": "Temperature",
   "default": 0.1,
   "precision": 2
  },
  {
   "fieldname": "timeout",
   "fieldtype": "Int",
   "label": "Timeout (seconds)",
   "default": 30
  },
  {
   "fieldname": "section_break_2",
   "fieldtype": "Section Break",
   "label": "OCR Settings"
  },
  {
   "fieldname": "enable_ai_ocr",
   "fieldtype": "Check",
   "label": "Enable AI OCR",
   "default": 1
  },
  {
   "fieldname": "enable_document_classification",
   "fieldtype": "Check",
   "label": "Enable Document Classification",
   "default": 1
  },
  {
   "fieldname": "enable_field_extraction",
   "fieldtype": "Check",
   "label": "Enable Field Extraction",
   "default": 1
  },
  {
   "fieldname": "column_break_2",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "supported_formats",
   "fieldtype": "Small Text",
   "label": "Supported Formats",
   "default": "jpg,jpeg,png,pdf,tiff,bmp",
   "description": "Comma-separated list of supported file formats"
  },
  {
   "fieldname": "max_file_size",
   "fieldtype": "Int",
   "label": "Max File Size (MB)",
   "default": 10
  },
  {
   "fieldname": "section_break_3",
   "fieldtype": "Section Break",
   "label": "Prompts"
  },
  {
   "fieldname": "ocr_prompt",
   "fieldtype": "Long Text",
   "label": "OCR Prompt",
   "default": "Extract all text from this image. Return the result as clean, structured text maintaining the original layout and formatting where possible."
  },
  {
   "fieldname": "classification_prompt",
   "fieldtype": "Long Text",
   "label": "Document Classification Prompt",
   "default": "Analyze this document and classify it for ERPNext system. Identify the document type and suggest the appropriate ERPNext DocType.\n\nCommon ERPNext DocTypes:\n- Purchase Order: Supplier orders, PO numbers, vendor details\n- Sales Order: Customer orders, SO numbers, order confirmations\n- Sales Invoice: Customer invoices, billing documents\n- Purchase Invoice: Supplier invoices, vendor bills\n- Quotation: Price quotes, proposals, estimates\n- Delivery Note: Shipping documents, delivery receipts\n- Purchase Receipt: Goods received notes, material receipts\n- Payment Entry: Payment records, receipts\n- Expense Claim: Employee expense reports\n- Material Request: Stock requisitions, purchase requests\n\nProvide your analysis in this format (JSON preferred, but clear text is acceptable):\n{\n  \"document_type\": \"Purchase Order\",\n  \"confidence\": 0.9,\n  \"suggested_doctype\": \"Purchase Order\",\n  \"key_fields\": [\"po_no\", \"supplier\", \"items\", \"total\"],\n  \"reasoning\": \"Document contains PO number, supplier details, and item list typical of purchase orders\"\n}\n\nIf JSON is not possible, clearly state: 'This document is a [TYPE] with confidence [0.0-1.0] and should use ERPNext DocType: [DOCTYPE]'"
  },
  {
   "fieldname": "extraction_prompt",
   "fieldtype": "Long Text",
   "label": "Field Extraction Prompt",
   "default": "Extract structured data from this document. Return a JSON object with all identifiable fields and their values. Include dates, amounts, names, addresses, and any other relevant information."
  },
  {
   "fieldname": "section_break_4",
   "fieldtype": "Section Break",
   "label": "Testing & Status"
  },
  {
   "fieldname": "test_connection_btn",
   "fieldtype": "Button",
   "label": "Test Connection"
  },
  {
   "fieldname": "column_break_3",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "test_ai_query_btn",
   "fieldtype": "Button",
   "label": "Test AI Query"
  },
  {
   "fieldname": "section_break_5",
   "fieldtype": "Section Break",
   "label": "Status"
  },
  {
   "fieldname": "is_active",
   "fieldtype": "Check",
   "label": "Is Active",
   "default": 1
  },
  {
   "fieldname": "last_tested",
   "fieldtype": "Datetime",
   "label": "Last Tested",
   "read_only": 1
  },
  {
   "fieldname": "test_status",
   "fieldtype": "Data",
   "label": "Test Status",
   "read_only": 1
  }
 ],
 "has_web_view": 0,
 "hide_heading": 0,
 "hide_toolbar": 0,
 "idx": 0,
 "image_view": 0,
 "in_create": 0,
 "is_submittable": 0,
 "issingle": 0,
 "istable": 0,
 "max_attachments": 0,
 "modified": "2025-08-31 10:30:00.000000",
 "modified_by": "Administrator",
 "module": "Erpnext Ocr",
 "name": "AI Integration Settings",
 "owner": "Administrator",
 "permissions": [
  {
   "create": 1,
   "delete": 1,
   "email": 1,
   "export": 1,
   "print": 1,
   "read": 1,
   "report": 1,
   "role": "System Manager",
   "share": 1,
   "write": 1
  }
 ],
 "quick_entry": 0,
 "read_only": 0,
 "read_only_onload": 0,
 "show_name_in_global_search": 0,
 "sort_field": "modified",
 "sort_order": "DESC",
 "track_changes": 1,
 "track_seen": 0
}